<article
    class="bg-white border border-gray-200 rounded-2xl shadow-md p-5 text-center transition hover:shadow-xl hover:-translate-y-1 hover:border-fuchsia-400 duration-300"
>
    <img
        [src]="product.image || 'assets/imgs/imagenPorDefecto.webp'"
        [alt]="product.name"
        class="mx-auto mb-4 h-40 object-contain rounded-md"
    />

    <h3 class="text-lg font-semibold text-gray-800 mb-1">
        {{ product.name }}
    </h3>

    <p class="text-fuchsia-600 font-bold mb-2">
        {{ product.price | currency : "EUR" }}
    </p>

    <div class="flex justify-center items-center mb-4">
        @for (star of [1,2,3,4,5]; track star) { @if (ratingsAverage() >= star) {
        <i class="fas fa-star text-yellow-400 text-xl mx-0.5"></i>
        } @else if (ratingsAverage() >= (star - 0.5)) {
        <i class="fas fa-star-half-alt text-yellow-400 text-xl mx-0.5"></i>
        } @else {
        <i class="far fa-star text-gray-300 text-xl mx-0.5"></i>
        } }
        <span class="ml-2 text-sm text-gray-500"> ({{ ratingsCount() }}) </span>
    </div>

    <a
        [routerLink]="['/view-product', product.id]"
        class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-fuchsia-500 text-white rounded-full hover:from-indigo-700 hover:to-fuchsia-600 transition shadow-md"
    >
        {{ "BUTTON.VER_MAS" | translate }}
    </a>
</article>
